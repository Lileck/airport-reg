{% extends 'flights/base.html' %}

{% block title %}–ü–∞–Ω–µ–ª—å –∞–≥–µ–Ω—Ç–∞{% endblock %}

{% block content %}
<div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px; border-radius: 10px; text-align: center; margin: 20px 0;">
    <h1>üë®‚Äçüíº –ü–∞–Ω–µ–ª—å –∞–≥–µ–Ω—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</h1>
    <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</p>
    <p>–†–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ: <strong>–°—Ç–æ–π–∫–∞ 1</strong></p>
</div>

<h2>‚úàÔ∏è –ê–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ–π—Å—ã –Ω–∞ —Å–µ–≥–æ–¥–Ω—è ({{ today|date:"d.m.Y" }})</h2>

{% if active_flights %}
    {% for flight in active_flights %}
    <div style="border: 1px solid #ddd; padding: 20px; margin: 15px 0; border-radius: 8px; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        <!-- –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞–∑–≤–∞–Ω–∏–π –ø–æ–ª–µ–π -->
        <h3 style="color: #333; margin-top: 0;">
            –†–µ–π—Å <strong>{{ flight.flight_number|default:flight.number|default:"–ù–µ—Ç –Ω–æ–º–µ—Ä–∞" }}</strong>
        </h3>

        <p><strong>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</strong>
            {{ flight.destination|default:flight.destination_city|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}
        </p>

        <p><strong>–í—Ä–µ–º—è –≤—ã–ª–µ—Ç–∞:</strong>
            {{ flight.departure_time|time:"H:i"|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}
        </p>

        <p><strong>–î–∞—Ç–∞ –≤—ã–ª–µ—Ç–∞:</strong>
            {{ flight.flight_date|date:"d.m.Y"|default:flight.departure_time|date:"d.m.Y"|default:"–ù–µ —É–∫–∞–∑–∞–Ω–∞" }}
        </p>

        <p><strong>–°–≤–æ–±–æ–¥–Ω—ã—Ö –º–µ—Å—Ç:</strong>
            {{ flight.available_seats|default:flight.capacity|default:"0" }}
        </p>

       <p><strong>–°—Ç–∞—Ç—É—Å:</strong>
    {% if flight.is_active or flight.status == 'active' or flight.status == 'scheduled' or flight.status == 'boarding' %}
        <span style="color: green; font-weight: bold;">‚óè –ê–∫—Ç–∏–≤–µ–Ω</span>
    {% else %}
        <span style="color: red; font-weight: bold;">‚óè –ù–µ–∞–∫—Ç–∏–≤–µ–Ω</span>
    {% endif %}
</p>
        <!-- –ö–ù–û–ü–ö–ê –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò -->
        <a href="{% url 'flights:flight_checkin' flight.id %}" style="background: #28a745; color: white; padding: 12px 25px; text-decoration: none; border-radius: 5px; display: inline-block; margin-top: 10px; font-weight: bold;">
            üìù –ù–∞—á–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
        </a>
    </div>
    {% endfor %}
{% else %}
    <div style="background: #f8f9fa; padding: 30px; border-radius: 8px; text-align: center; border: 2px dashed #ddd;">
        <p style="font-size: 18px; color: #666; margin: 0;">üéâ –ù–∞ —Å–µ–≥–æ–¥–Ω—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä–µ–π—Å–æ–≤ –Ω–µ—Ç!</p>
        <p style="color: #999; margin: 10px 0 0 0;">
            <a href="/admin/flights/flight/add/" style="color: #667eea; text-decoration: none;">
                ‚ûï –°–æ–∑–¥–∞—Ç—å —Ä–µ–π—Å —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É
            </a>
        </p>
    </div>
{% endif %}

<div style="margin-top: 30px; padding: 25px; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
    <h3 style="color: #333;">üöÄ –§—É–Ω–∫—Ü–∏–∏ –∞–≥–µ–Ω—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</h3>
    <ul style="list-style: none; padding: 0; margin: 15px 0;">
        <li style="padding: 8px 0; border-bottom: 1px solid #eee;">‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ –Ω–∞ —Ä–µ–π—Å—ã</li>
        <li style="padding: 8px 0; border-bottom: 1px solid #eee;">‚úÖ –ü–æ–∏—Å–∫ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ –ø–æ –∏–º–µ–Ω–∏ –∏ –ø–∞—Å–ø–æ—Ä—Ç—É</li>
        <li style="padding: 8px 0;">‚úÖ –í—ã–¥–∞—á–∞ –ø–æ—Å–∞–¥–æ—á–Ω—ã—Ö —Ç–∞–ª–æ–Ω–æ–≤</li>
    </ul>
</div>
{% endblock %}